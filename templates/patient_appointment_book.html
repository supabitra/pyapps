{% extends "base.html" %}
{% block title %}Book an appointment...{% endblock %}

{% block content %}
<form method="POST" action="/patient_appointment">

    {% with message = get_flashed_messages() %}
    {% if message %}
    <p class="alert alert-warning" role="alert">
        {{ message }}
    </p>
    {% endif %}
    {% endwith %}
    <!---------------------------------------------------------------->
    <label {% if departmentHidden %}hidden{% endif %}>Select Department:</label>
    <select {% if departmentHidden %}hidden{% endif %} name="selectDepartment" class="form-select"
        aria-label="Multiple select example">
        {% for row in dataDepartment %}
        <option value="{{row[0]}}" {% if row[0]==selectedDepartment|int %}selected{% endif %}>
            {{row[1]}}
        </option>
        {% endfor %}
    </select>
    <button {% if departmentHidden %}hidden{% endif %} name="action" value="selectDepartment"
        type="submit">Select</button>
    <!---------------------------------------------------------------->
    <label {% if doctorHidden %}hidden{% endif %}>Select Doctor:</label>
    <select {% if doctorHidden %}hidden{% endif %} name="selectDoctor" class="form-select"
        aria-label="Multiple select example">
        {% for row in dataDoctor %}
        <option value="{{row[0]}}" {% if row[0]==selectedDoctor|int %}selected{% endif %}>
            {{row[1]}}|{{row[4]}}
        </option>
        {% endfor %}
    </select>
    <button {% if doctorHidden %}hidden{% endif %} name="action" value="selectDoctor" type="submit">Select</button>
    <button {% if doctorHidden %}hidden{% endif %} name="action" value="reset" type="submit">Reset</button>
    <!---------------------------------------------------------------->
    <label {% if appointmentHidden %}hidden{% endif %}>Select Appointment:</label>
    <select {% if appointmentHidden %}hidden{% endif %} name="selectAppointment" class="form-select"
        aria-label="Multiple select example">
        {% for row in dataAppointment %}
        <option value="{{row[0]}}">
            {{row[3]}}|{{row[4]}}
        </option>
        {% endfor %}
    </select>
    <button {% if appointmentHidden %}hidden{% endif %} name="action" value="selectAppointment" type="submit">Book
        Appointment</button>
    <button {% if appointmentHidden %}hidden{% endif %} name="action" value="reset" type="submit">Reset</button>
    <!---------------------------------------------------------------->
    <!------------------------------------------------------------------>
    <hr>
    <table class="table table-striped">
        <thead>
            <tr>
                {% for head in heading %}
                <th scope="col">{{ head }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in dataAppointment %}
            <tr>
                {% for cell in row %}
                <td>{{ cell }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <!------------------------------------------------------------------>
    <!------------------------------------------------------------------>
</form>
{% endblock %}